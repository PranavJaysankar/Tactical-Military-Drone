<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        /* Style for the camera display row */
        .camera-row {
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin-bottom: 20px;
            text-align: center;
        }
        .buttonforcamera {
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin: 20px;
        }

        /* Style for the camera container */
        .camera-container {
            border: 2px solid black;
            padding: 10px;
            width: 300px;
            height: 200px;
            position: relative;
            text-align: center; /* Center the content inside the container */
        }

        /* Style for the video elements */
        video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Style for the "Activate" button */
        .activate-button {
            margin-top: 10px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            background-color: white; /* Set background color */
        }

        /* Style for the input box */
        #altitudeInput {
            margin-top: 20px;
        }

        /* Style for the controller buttons */
        .controller {
            margin-top: 20px;
            display: flex;
            justify-content: center;
        }

        /* Style for the on/off switch */
        .switch {
            display: flex;
            height: 10vh;
            justify-content: center;
        }
        #altitudeInput {
        margin-top: 20px;
        display: block;
        margin-left: auto;
        margin-right: auto;
        margin-top: 20px;
        margin-bottom: 20px;
        }
        .controls-container {
        display: flex;
        justify-content: space-between;
        }
        .controller {
        margin-top: 20px;
        display: flex;
        margin-left: 30px;
        justify-content: flex-start; /* Align controls to the left */
        }
        #controls {
         display: inline-grid;
         grid-column-gap: 10;
         align-self: end;
        }
        #keyboard_key_up {
         grid-column-start: 2;
         margin-bottom: 20PX;
        }

        #keyboard_key_left {
            grid-column-start: 1;
            margin-right: 10px;
        }

        #keyboard_key_down {
            margin-top: 20px;
        }

        #keyboard_key_right {
            grid-column-start: 3;
            margin-left: 10px;
            }

        /* Style for the rotation buttons */
        .rotate-buttons {
            margin-top: 20px;
            display: flex;
            justify-content: flex-end;
            margin-right: 20px;

        }
        .rotate-buttons button {
            margin-left: 10px;
        }
    </style>

    <title>Your Website</title>
</head>
<body>

<!-- Camera Display Row -->
<div class="camera-row">
    <div class="camera-container" id="frontDisplay">
        <img src="default_image_front.jpg" alt="Default Image">
    </div>
    

    <div class="camera-container" id="rearLeftDisplay">
        <img src="default_image_left.jpg" alt="Default Image">
    </div>
    

    <div class="camera-container" id="rearRightDisplay">
        <img src="default_image_right.jpg" alt="Default Image">
    </div>
    
</div>
<div class="buttonforcamera">
    <button class="activate-button" onclick="activateCamera('front')">Activate Front Camera</button>
    <button class="activate-button" onclick="activateCamera('rearLeft')">Activate Rear Left Camera</button>
    <button class="activate-button" onclick="activateCamera('rearRight')">Activate Rear Right Camera</button>
</div>

<!-- Altitude Input Box -->

<input type="text" id="altitudeInput" placeholder="Enter Altitude">


<!-- Controller Buttons -->
<div class="controls-container">
<div class="controller">
    <div id="controls">
        <button id="keyboard_key_up" class="movements_control">FORWARD</button>
        <button id="keyboard_key_left" class="movements_control">LEFT</button>
        <button id="keyboard_key_down" class="movements_control">DOWNWARD</button>
        <button id="keyboard_key_right" class="movements_control">RIGHT</button>
    </div>
</div>



<!-- Rotation Buttons -->
<div class="rotate-buttons">
    <button onclick="rotate('anticlockwise')">Anticlockwise</button>
    <button onclick="rotate('clockwise')">Clockwise</button>
</div>
</div>
<!-- On/Off Switch -->
<div class="switch">
    <label>On/Off
        <input type="checkbox" id="onOffSwitch">
    </label>
</div>

<script>
    var cameraStreams = {
        front: null,
        rearLeft: null,
        rearRight: null,
    };

    function activateCamera(display) {
        var displayElement = document.getElementById(display + 'Display');

        if (cameraStreams[display]) {
            // If the camera is already active, deactivate it
            stopCamera(display);
            displayElement.innerHTML = '<img src="default_image_' + display + '.jpg" alt="Default Image">';
        } else {
            // If the camera is not active, activate it
            chooseCamera(display);
        }
    }

    function chooseCamera(display) {
        navigator.mediaDevices.enumerateDevices()
            .then(function (devices) {
                var videoDevices = devices.filter(device => device.kind === 'videoinput');
                
                if (videoDevices.length > 0) {
                    // Display a list of available cameras for the user to choose from
                    var cameraList = videoDevices.map(device => ({
                        label: device.label || 'Camera ' + (videoDevices.indexOf(device) + 1),
                        deviceId: device.deviceId,
                    }));

                    var selectedCamera = prompt('Select camera for ' + display + ': \n' +
                        cameraList.map((camera, index) => index + 1 + '. ' + camera.label).join('\n'));

                    if (selectedCamera !== null) {
                        // User selected a camera, start it
                        startCamera(display, cameraList[selectedCamera - 1].deviceId);
                    }
                } else {
                    alert('No video devices found.');
                }
            })
            .catch(function (error) {
                console.error('Error enumerating devices:', error);
            });
    }

    function startCamera(display, deviceId) {
        if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
            navigator.mediaDevices
                .getUserMedia({ video: { facingMode: display === 'front' ? 'user' : 'environment', deviceId: deviceId } })
                .then(function (stream) {
                    cameraStreams[display] = stream;

                    const video = document.createElement('video');
                    video.srcObject = stream;
                    video.play();

                    const displayElement = document.getElementById(display + 'Display');
                    displayElement.innerHTML = '';
                    displayElement.appendChild(video);
                })
                .catch(function (error) {
                    console.error('Error accessing camera:', error);
                });
        } else {
            alert('getUserMedia not supported in this browser.');
        }
    }

    function stopCamera(display) {
        if (cameraStreams[display]) {
            var tracks = cameraStreams[display].getTracks();
            tracks.forEach(function (track) {
                track.stop();
            });
            cameraStreams[display] = null;
        }
    }

    function move(direction) {
        // Implement movement logic based on direction
        console.log('Move ' + direction);
    }

    function rotate(rotation) {
        // Implement rotation logic based on rotation direction
        console.log('Rotate ' + rotation);
    }
</script>

</body>
</html>
